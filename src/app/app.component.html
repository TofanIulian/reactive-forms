<form [formGroup]="travelerDetailsForm" (ngSubmit)="onSubmit()">
  <div formGroupName="bookingGuest">
    <h2>Traveler Details Form</h2>

    <label for="first-name">First Name: </label>
    <input id="first-name" type="text" formControlName="firstName" />

    <label for="last-name">Last Name: </label>
    <input id="last-name" type="text" formControlName="lastName" />

    <label for="last-name">Phone: </label>
    <input id="last-name" type="text" formControlName="phone" />
  </div>

  <ng-container formArrayName="rooms">
    <div
      *ngFor="let room of roomsControls; let roomIndex = index"
      [formArrayName]="roomIndex"
    >
      <h3>Room no {{ roomIndex + 1 }}</h3>

      <div
        *ngFor="let guest of room.controls; let guestIndex = index"
        [formGroupName]="guestIndex"
      >
        <h4>Guest no {{ guestIndex + 1 }}</h4>

        <label for="first-name">First Name: </label>
        <input id="first-name" type="text" formControlName="firstName" />

        <label for="last-name">Last Name: </label>
        <input id="last-name" type="text" formControlName="lastName" />
      </div>
    </div>
  </ng-container>

  <button type="submit" [disabled]="!travelerDetailsForm.valid">Submit</button>
</form>
